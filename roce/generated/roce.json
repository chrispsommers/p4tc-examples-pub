{
  "schema_version" : "1.0.0",
  "pipeline_name" : "roce",
  "externs" : [
    {
      "name" : "Register",
      "id" : 1,
      "instances" : [
        {
          "inst_name" : "Main.drop_counter",
          "inst_id" : 1,
          "params" : [
            {
              "id" : 1,
              "name" : "index",
              "type" : "bit32",
              "attr" : "tc_key",
              "bitwidth" : 32
            },
            {
              "id" : 2,
              "name" : "a_value",
              "type" : "bit32",
              "attr" : "param",
              "bitwidth" : 32
            }
          ]
        }
      ]
    }
  ],
  "tables" : [
    {
      "name" : "Main/nh_table",
      "id" : 1,
      "tentries" : 2048,
      "nummask" : 8,
      "keysize" : 32,
      "keyfields" : [
        {
          "id" : 1,
          "name" : "nh_index",
          "type" : "bit32",
          "match_type" : "exact",
          "bitwidth" : 32
        }
      ],
      "actions" : [
        {
          "id" : 1,
          "name" : "Main/drop",
          "action_scope" : "TableAndDefault",
          "annotations" : [],
          "params" : [],
          "default_hit_action" : false,
          "default_miss_action" : true
        },
        {
          "id" : 2,
          "name" : "Main/set_nh",
          "action_scope" : "TableAndDefault",
          "annotations" : [],
          "params" : [
            {
              "id" : 1,
              "name" : "dmac",
              "type" : "macaddr",
              "bitwidth" : 48
            },
            {
              "id" : 2,
              "name" : "port",
              "type" : "dev",
              "bitwidth" : 32
            }
          ],
          "default_hit_action" : false,
          "default_miss_action" : false
        }
      ]
    },
    {
      "name" : "Main/fib_table",
      "id" : 2,
      "tentries" : 2048,
      "nummask" : 8,
      "keysize" : 32,
      "keyfields" : [
        {
          "id" : 1,
          "name" : "prefix",
          "type" : "ipv4",
          "match_type" : "lpm",
          "bitwidth" : 32
        }
      ],
      "actions" : [
        {
          "id" : 3,
          "name" : "Main/set_nhid",
          "action_scope" : "TableAndDefault",
          "annotations" : [],
          "params" : [
            {
              "id" : 1,
              "name" : "index",
              "type" : "bit32",
              "bitwidth" : 32
            }
          ],
          "default_hit_action" : false,
          "default_miss_action" : true
        }
      ]
    },
    {
      "name" : "Main/mark_ecn_table",
      "id" : 3,
      "tentries" : 2048,
      "nummask" : 8,
      "keysize" : 32,
      "keyfields" : [
        {
          "id" : 1,
          "name" : "prefix",
          "type" : "ipv4",
          "match_type" : "lpm",
          "bitwidth" : 32
        }
      ],
      "actions" : [
        {
          "id" : 4,
          "name" : "Main/set_ecn",
          "action_scope" : "TableAndDefault",
          "annotations" : [],
          "params" : [
            {
              "id" : 1,
              "name" : "codepoint",
              "type" : "bit2",
              "bitwidth" : 2
            }
          ],
          "default_hit_action" : false,
          "default_miss_action" : false
        },
        {
          "id" : 5,
          "name" : "Main/nop",
          "action_scope" : "TableAndDefault",
          "annotations" : [],
          "params" : [],
          "default_hit_action" : false,
          "default_miss_action" : true
        }
      ]
    },
    {
      "name" : "Main/drop_n_table",
      "id" : 4,
      "tentries" : 2048,
      "nummask" : 8,
      "keysize" : 32,
      "keyfields" : [
        {
          "id" : 1,
          "name" : "prefix",
          "type" : "ipv4",
          "match_type" : "lpm",
          "bitwidth" : 32
        }
      ],
      "actions" : [
        {
          "id" : 6,
          "name" : "Main/drop_conditional",
          "action_scope" : "TableAndDefault",
          "annotations" : [],
          "params" : [
            {
              "id" : 1,
              "name" : "index",
              "type" : "bit16",
              "bitwidth" : 16
            }
          ],
          "default_hit_action" : false,
          "default_miss_action" : false
        },
        {
          "id" : 5,
          "name" : "Main/nop",
          "action_scope" : "TableAndDefault",
          "annotations" : [],
          "params" : [],
          "default_hit_action" : false,
          "default_miss_action" : true
        }
      ]
    },
    {
      "name" : "Main/roce_table",
      "id" : 5,
      "tentries" : 2048,
      "nummask" : 8,
      "keysize" : 64,
      "keyfields" : [
        {
          "id" : 1,
          "name" : "hdr.ib_bth.opcode",
          "type" : "bit8",
          "match_type" : "ternary",
          "bitwidth" : 8
        },
        {
          "id" : 2,
          "name" : "hdr.ib_bth.dest_qp",
          "type" : "bit24",
          "match_type" : "ternary",
          "bitwidth" : 24
        },
        {
          "id" : 3,
          "name" : "prefix",
          "type" : "ipv4",
          "match_type" : "lpm",
          "bitwidth" : 32
        }
      ],
      "actions" : [
        {
          "id" : 6,
          "name" : "Main/drop_conditional",
          "action_scope" : "TableAndDefault",
          "annotations" : [],
          "params" : [
            {
              "id" : 1,
              "name" : "index",
              "type" : "bit16",
              "bitwidth" : 16
            }
          ],
          "default_hit_action" : false,
          "default_miss_action" : false
        },
        {
          "id" : 5,
          "name" : "Main/nop",
          "action_scope" : "TableAndDefault",
          "annotations" : [],
          "params" : [],
          "default_hit_action" : false,
          "default_miss_action" : true
        }
      ]
    }
  ]
}